while not stop_requested:
    elapsed = asyncio.get_event_loop().time() - start_time
    progress = elapsed / travel_time
    # نهاية الذيل = الرأس + طول الشهاب
    tail_pos = int((1 - eased_progress) * (NUM_LEDS + trail_length) + trail_length)
    
    if tail_pos < 0:  # كله خرج من الشريط
        break
