async def custom_color_wipe_loop(hex_color: str, delay: float = 0.02):
    """
    Custom Color Wipe with Fading Trail:
    - LEDs light up forward and backward in a wipe with fading trail.
    """
    global stop_requested
    r_base = int(hex_color[1:3], 16)
    g_base = int(hex_color[3:5], 16)
    b_base = int(hex_color[5:7], 16)

    brightness_levels = [0] * NUM_LEDS
    direction = 1  # 1 for forward, -1 for backward
    pos = 0

    while not stop_requested:
        # Set current LED to full brightness
        brightness_levels[pos] = 255

        # Apply fading to all LEDs
        for i in range(NUM_LEDS):
            if brightness_levels[i] > 0:
                brightness_levels[i] = max(0, brightness_levels[i] - 15)
                neo.set_led_color(
                    i,
                    (r_base * brightness_levels[i]) // 255,
                    (g_base * brightness_levels[i]) // 255,
                    (b_base * brightness_levels[i]) // 255
                )
            else:
                neo.set_led_color(i, 0, 0, 0)

        neo.update_strip()
        await asyncio.sleep(delay)

        # Move position
        pos += direction
        if pos >= NUM_LEDS:
            pos = NUM_LEDS - 1
            direction = -1
        elif pos < 0:
            pos = 0
            direction = 1

    neo.clear_strip()
    neo.update_strip()
